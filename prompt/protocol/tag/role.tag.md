# DPML#è§’è‰²æç¤ºå•å…ƒ æ¡†æ¶

> **TL;DR:** DPML#è§’è‰²æç¤ºå•å…ƒ æ¡†æ¶å®šä¹‰äº†åŸºäºä¸‰ç»„ä»¶æ¶æ„çš„å®Œæ•´#AIè§’è‰²æ„å»ºæ–¹æ³•ï¼Œé€šè¿‡#æ€ç»´æ¨¡å¼(personality)ã€#è¡Œä¸ºåŸåˆ™(principle) å’Œ#ä¸“ä¸šçŸ¥è¯†(knowledge) çš„ç»„åˆæ¥åˆ›å»ºè‡ªåŒ…å«çš„#AIè§’è‰²ã€‚

### ç›®çš„ä¸åŠŸèƒ½

DPML#è§’è‰²æç¤ºå•å…ƒ æ¡†æ¶æä¾›äº†æ„å»º#AIè§’è‰²çš„æ ‡å‡†åŒ–æ–¹æ³•ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
- åŸºäºä¸‰ç»„ä»¶æ¶æ„æ„å»ºå®Œæ•´çš„#AIè§’è‰²å®šä¹‰
- ç¡®ä¿#è§’è‰²å®šä¹‰ çš„è‡ªåŒ…å«æ€§å’Œå®Œæ•´æ€§
- æ”¯æŒä¸åŒé¢†åŸŸ#AIè§’è‰² çš„çµæ´»å®šåˆ¶
- ä¸PromptXé”¦å›Šä¸²è”ç³»ç»Ÿå®Œç¾é›†æˆ

## ğŸ“ è¯­æ³•å®šä¹‰

```ebnf
(* EBNFå½¢å¼åŒ–å®šä¹‰ *)
role_element ::= '<role' attributes? '>' role_content '</role>'
role_content ::= personality_element principle_element knowledge_element

(* ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ *)
personality_element ::= '<personality' attributes? '>' personality_content '</personality>'
principle_element ::= '<principle' attributes? '>' principle_content '</principle>'
knowledge_element ::= '<knowledge' attributes? '>' knowledge_content '</knowledge>'

(* å†…å®¹å®šä¹‰ *)
personality_content ::= markdown_content
principle_content ::= markdown_content
knowledge_content ::= markdown_content

attributes ::= (' ' attribute)+ | ''
attribute ::= name '="' value '"'
name ::= [a-zA-Z][a-zA-Z0-9_-]*
value ::= [^"]*

markdown_content ::= (* ç¬¦åˆMarkdownè¯­æ³•çš„å†…å®¹ *)
```

## ğŸ§© è¯­ä¹‰è¯´æ˜

`<role>`æ ‡ç­¾æ˜¯DPMLä¸­å®šä¹‰#AIè§’è‰² çš„æ ¸å¿ƒ#è§’è‰²æç¤ºå•å…ƒï¼ŒåŸºäºä¸‰ç»„ä»¶æ¶æ„æ„å»ºå®Œæ•´çš„#AIè§’è‰²å®šä¹‰ã€‚æ¯ä¸ª#è§’è‰² éƒ½æ˜¯è‡ªåŒ…å«çš„ï¼ŒåŒ…å«äº†AIå˜èº«ä¸ºç‰¹å®šé¢†åŸŸä¸“å®¶æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ã€‚

### ä¸‰ç»„ä»¶æ¶æ„è¯´æ˜

#### 1. #æ€ç»´æ¨¡å¼(Personality)
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šå®šä¹‰AIè§’è‰²çš„æ€ç»´ç‰¹å¾å’Œè®¤çŸ¥æ¨¡å¼
- **å†…å®¹èŒƒå›´**ï¼šæ ¸å¿ƒæ€ç»´ç‰¹å¾ã€è®¤çŸ¥åå¥½ã€æ€è€ƒæ–¹å¼ã€ä»·å€¼è§‚å€¾å‘
- **è®¾è®¡ç›®æ ‡**ï¼šç¡®ä¿AIèƒ½å¤Ÿä»¥è§’è‰²ç‰¹å®šçš„æ€ç»´æ–¹å¼åˆ†æå’Œç†è§£é—®é¢˜
- **å®ç°æ–¹å¼**ï¼šé€šè¿‡`promptx learn personality://role-id`åŠ è½½

#### 2. #è¡Œä¸ºåŸåˆ™(Principle)  
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šå®šä¹‰AIè§’è‰²çš„è¡Œä¸ºå‡†åˆ™å’Œå·¥ä½œåŸåˆ™
- **å†…å®¹èŒƒå›´**ï¼šæ ¸å¿ƒåŸåˆ™ã€è¡Œä¸ºè§„èŒƒã€å†³ç­–æ ‡å‡†ã€å·¥ä½œæµç¨‹
- **è®¾è®¡ç›®æ ‡**ï¼šç¡®ä¿AIèƒ½å¤ŸæŒ‰ç…§è§’è‰²ç‰¹å®šçš„åŸåˆ™æ‰§è¡Œä»»åŠ¡å’Œåšå‡ºå†³ç­–
- **å®ç°æ–¹å¼**ï¼šé€šè¿‡`promptx learn principle://role-id`åŠ è½½

#### 3. #ä¸“ä¸šçŸ¥è¯†(Knowledge)
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šæä¾›AIè§’è‰²çš„é¢†åŸŸçŸ¥è¯†å’ŒæŠ€èƒ½ä½“ç³»
- **å†…å®¹èŒƒå›´**ï¼šä¸“ä¸šçŸ¥è¯†æ¡†æ¶ã€æŠ€èƒ½æ¸…å•ã€å·¥å…·ä½¿ç”¨ã€æœ€ä½³å®è·µ
- **è®¾è®¡ç›®æ ‡**ï¼šç¡®ä¿AIå…·å¤‡è§’è‰²æ‰€éœ€çš„ä¸“ä¸šèƒ½åŠ›å’ŒçŸ¥è¯†èƒŒæ™¯
- **å®ç°æ–¹å¼**ï¼šé€šè¿‡`promptx learn knowledge://role-id`åŠ è½½

### #è§’è‰²ç”Ÿå‘½å‘¨æœŸ

#### è§’è‰²æ¿€æ´»æµç¨‹
1. **å‘ç°è§’è‰²** - `promptx hello` æµè§ˆå¯ç”¨è§’è‰²
2. **åˆ¶å®šè®¡åˆ’** - `promptx action role-id` ç”Ÿæˆå­¦ä¹ è®¡åˆ’
3. **å­¦ä¹ ç»„ä»¶** - æŒ‰åºå­¦ä¹ personalityã€principleã€knowledge
4. **å¼€å§‹å·¥ä½œ** - è¿ç”¨è§’è‰²èƒ½åŠ›è§£å†³å®é™…é—®é¢˜

#### ç³»ç»Ÿçº§æ”¯æŒ
- **è®°å¿†ç®¡ç†** - `promptx remember` å­˜å‚¨ç»éªŒ
- **ç»éªŒå›å¿†** - `promptx recall` æ£€ç´¢ç›¸å…³è®°å¿†  
- **è§’è‰²åˆ‡æ¢** - éšæ—¶åˆ‡æ¢åˆ°å…¶ä»–ä¸“ä¸šè§’è‰²

### è®¾è®¡ç†å¿µ

#### é”¦å›Šä¸²è”æ¶æ„
- æ¯ä¸ªè§’è‰²æ˜¯ä¸€ä¸ªå®Œæ•´çš„"æ™ºæ…§é”¦å›Š"
- æ”¯æŒ"AI use CLI get prompt for AI"çš„æ ¸å¿ƒç†å¿µ
- å®ç°AIå³æ—¶ä¸“å®¶åŒ–çš„èƒ½åŠ›è·å–

#### ç®€åŒ–åŸåˆ™
- **ä¸‰ç»„ä»¶è‡ªåŒ…å«** - ç§»é™¤å¤æ‚çš„èµ„æºå¼•ç”¨æœºåˆ¶
- **ç³»ç»Ÿçº§æ“ä½œ** - å¤æ‚åŠŸèƒ½é€šè¿‡CLIå‘½ä»¤å®ç°
- **æ¸…æ™°åˆ†ç¦»** - è§’è‰²å®šä¹‰ä¸ç³»ç»ŸåŠŸèƒ½æ˜ç¡®åˆ†å·¥

> **æ³¨æ„**ï¼šåŸºäºç®€åŒ–è®¾è®¡åŸåˆ™ï¼Œ`experience`å’Œ`action`ç»„ä»¶å·²è¿ç§»ä¸ºç³»ç»Ÿçº§å‘½ä»¤ï¼ˆ`promptx recall`å’Œ`promptx action`ï¼‰ï¼Œè§’è‰²æ–‡ä»¶ä¸“æ³¨äºä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶çš„å®šä¹‰ã€‚