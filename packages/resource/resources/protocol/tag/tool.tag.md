# DPML#å·¥å…·æç¤ºå•å…ƒ æ¡†æ¶

> **TL;DR:** DPML#å·¥å…·æç¤ºå•å…ƒ æ¡†æ¶å®šä¹‰äº†åŸºäºå››ç»„ä»¶æ¶æ„çš„å®Œæ•´#AIå·¥å…·æ„å»ºæ–¹æ³•ï¼Œé€šè¿‡#ç”¨é€”è¯´æ˜(purpose)ã€#ä½¿ç”¨æ–¹æ³•(usage)ã€#å‚æ•°å®šä¹‰(parameter) å’Œ#é¢„æœŸç»“æœ(outcome) çš„ç»„åˆæ¥åˆ›å»ºè‡ªåŒ…å«çš„#AIå·¥å…·æŒ‡å¯¼ã€‚

### ç›®çš„ä¸åŠŸèƒ½

DPML#å·¥å…·æç¤ºå•å…ƒ æ¡†æ¶æä¾›äº†æ„å»º#AIå·¥å…·çš„æ ‡å‡†åŒ–æ–¹æ³•ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
- åŸºäºå››ç»„ä»¶æ¶æ„æ„å»ºå®Œæ•´çš„#AIå·¥å…·å®šä¹‰
- ç¡®ä¿#å·¥å…·å®šä¹‰ çš„è‡ªåŒ…å«æ€§å’Œå®Œæ•´æ€§
- æ”¯æŒä¸åŒé¢†åŸŸ#AIå·¥å…· çš„çµæ´»å®šåˆ¶
- ä¸PromptXå·¥å…·æ‰§è¡Œç³»ç»Ÿå®Œç¾é›†æˆ

## ğŸ“ è¯­æ³•å®šä¹‰

```ebnf
(* EBNFå½¢å¼åŒ–å®šä¹‰ *)
tool_element ::= '<tool' attributes? '>' tool_content '</tool>'
tool_content ::= purpose_element usage_element parameter_element outcome_element

(* å››å¤§æ ¸å¿ƒç»„ä»¶ *)
purpose_element ::= '<purpose' attributes? '>' purpose_content '</purpose>'
usage_element ::= '<usage' attributes? '>' usage_content '</usage>'
parameter_element ::= '<parameter' attributes? '>' parameter_content '</parameter>'
outcome_element ::= '<outcome' attributes? '>' outcome_content '</outcome>'

(* å†…å®¹å®šä¹‰ *)
purpose_content ::= markdown_content
usage_content ::= markdown_content
parameter_content ::= markdown_content
outcome_content ::= markdown_content

attributes ::= (' ' attribute)+ | ''
attribute ::= name '="' value '"'
name ::= [a-zA-Z][a-zA-Z0-9_-]*
value ::= [^"]*

markdown_content ::= (* ç¬¦åˆMarkdownè¯­æ³•çš„å†…å®¹ *)
```

## ğŸ§© è¯­ä¹‰è¯´æ˜

`<tool>`æ ‡ç­¾æ˜¯DPMLä¸­å®šä¹‰#AIå·¥å…· çš„æ ¸å¿ƒ#å·¥å…·æç¤ºå•å…ƒï¼ŒåŸºäºå››ç»„ä»¶æ¶æ„æ„å»ºå®Œæ•´çš„#AIå·¥å…·å®šä¹‰ã€‚æ¯ä¸ª#å·¥å…· éƒ½æ˜¯è‡ªåŒ…å«çš„ï¼ŒåŒ…å«äº†AIæ­£ç¡®ä½¿ç”¨ç‰¹å®šå·¥å…·æ‰€éœ€çš„å…¨éƒ¨æŒ‡å¯¼ä¿¡æ¯ã€‚

### å››ç»„ä»¶æ¶æ„è¯´æ˜

#### 1. #ç”¨é€”è¯´æ˜(Purpose)
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šæ˜ç¡®å·¥å…·è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œé€‚ç”¨ä»€ä¹ˆåœºæ™¯
- **å†…å®¹èŒƒå›´**ï¼šé—®é¢˜å®šä¹‰ã€è§£å†³æ–¹æ¡ˆã€åº”ç”¨é¢†åŸŸã€æ ¸å¿ƒä»·å€¼
- **è®¾è®¡ç›®æ ‡**ï¼šè®©AIæ¸…æ¥šçŸ¥é“ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨è¿™ä¸ªå·¥å…·
- **å…³é”®è¦ç´ **ï¼šé—®é¢˜æè¿°ã€ä»·å€¼ä¸»å¼ ã€åº”ç”¨è¾¹ç•Œ

#### 2. #ä½¿ç”¨æ–¹æ³•(Usage)
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šè¯¦ç»†è¯´æ˜å¦‚ä½•æ­£ç¡®ä½¿ç”¨å·¥å…·
- **å†…å®¹èŒƒå›´**ï¼šæ“ä½œæ­¥éª¤ã€ä½¿ç”¨æµç¨‹ã€æ³¨æ„äº‹é¡¹ã€æœ€ä½³å®è·µ
- **è®¾è®¡ç›®æ ‡**ï¼šç¡®ä¿AIèƒ½å¤ŸæŒ‰ç…§æ­£ç¡®çš„æ–¹å¼ä½¿ç”¨å·¥å…·
- **å…³é”®è¦ç´ **ï¼šæ­¥éª¤è¯´æ˜ã€æ—¶æœºåˆ¤æ–­ã€é£é™©æç¤ºã€ä¼˜åŒ–å»ºè®®

#### 3. #å‚æ•°å®šä¹‰(Parameter)
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šæ˜ç¡®å·¥å…·éœ€è¦ä»€ä¹ˆè¾“å…¥ä¿¡æ¯
- **å†…å®¹èŒƒå›´**ï¼šå¿…éœ€å‚æ•°ã€å¯é€‰å‚æ•°ã€å‚æ•°æ ¼å¼ã€é»˜è®¤å€¼ã€éªŒè¯è§„åˆ™
- **è®¾è®¡ç›®æ ‡**ï¼šç¡®ä¿AIèƒ½å¤Ÿæä¾›æ­£ç¡®çš„å·¥å…·è°ƒç”¨å‚æ•°
- **å…³é”®è¦ç´ **ï¼šå‚æ•°åˆ—è¡¨ã€ç±»å‹å®šä¹‰ã€ç¤ºä¾‹å€¼ã€çº¦æŸæ¡ä»¶

#### 4. #é¢„æœŸç»“æœ(Outcome)
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šæè¿°å·¥å…·æ‰§è¡Œåçš„é¢„æœŸè¾“å‡ºå’Œæ•ˆæœ
- **å†…å®¹èŒƒå›´**ï¼šè¿”å›æ ¼å¼ã€æˆåŠŸæ ‡å‡†ã€é”™è¯¯å¤„ç†ã€ç»“æœè§£è¯»
- **è®¾è®¡ç›®æ ‡**ï¼šå¸®åŠ©AIç†è§£å’ŒéªŒè¯å·¥å…·æ‰§è¡Œç»“æœ
- **å…³é”®è¦ç´ **ï¼šè¾“å‡ºæ ¼å¼ã€æˆåŠŸæŒ‡æ ‡ã€å¼‚å¸¸æƒ…å†µã€åç»­åŠ¨ä½œ

### #å·¥å…·ç”Ÿå‘½å‘¨æœŸ

#### å·¥å…·ä½¿ç”¨æµç¨‹
1. **è¯†åˆ«éœ€æ±‚** - AIåˆ¤æ–­å½“å‰ä»»åŠ¡æ˜¯å¦éœ€è¦ä½¿ç”¨å·¥å…·
2. **é€‰æ‹©å·¥å…·** - æ ¹æ®purposeç¡®å®šåˆé€‚çš„å·¥å…·
3. **å‡†å¤‡å‚æ•°** - æŒ‰ç…§parameterè¦æ±‚å‡†å¤‡è°ƒç”¨å‚æ•°
4. **æ‰§è¡Œå·¥å…·** - é€šè¿‡`promptx_tool`æ‰§è¡Œå…·ä½“å·¥å…·
5. **å¤„ç†ç»“æœ** - æ ¹æ®outcomeéªŒè¯å’Œå¤„ç†æ‰§è¡Œç»“æœ

#### ç³»ç»Ÿçº§æ”¯æŒ
- **å·¥å…·æ‰§è¡Œ** - `promptx_tool`æ‰§è¡Œå·¥å…·ä»£ç 
- **é”™è¯¯å¤„ç†** - ç³»ç»Ÿçº§å¼‚å¸¸æ•è·å’Œå¤„ç†
- **ç»“æœéªŒè¯** - è‡ªåŠ¨éªŒè¯å·¥å…·æ‰§è¡Œç»“æœ

### è®¾è®¡ç†å¿µ

#### æŒ‡å¯¼ä¸æ‰§è¡Œåˆ†ç¦»
- å·¥å…·å®šä¹‰ä¸“æ³¨äºä½¿ç”¨æŒ‡å¯¼ï¼Œä¸åŒ…å«å…·ä½“ä»£ç å®ç°
- ä»£ç æ‰§è¡Œé€šè¿‡MCPå·¥å…·ç³»ç»Ÿå®ç°
- å®ç°"æŒ‡å¯¼-æ‰§è¡Œ-éªŒè¯"çš„å®Œæ•´é—­ç¯

#### ç®€åŒ–åŸåˆ™
- **å››ç»„ä»¶è‡ªåŒ…å«** - è¦†ç›–å·¥å…·ä½¿ç”¨çš„å…¨ç”Ÿå‘½å‘¨æœŸ
- **ç³»ç»Ÿçº§æ‰§è¡Œ** - å¤æ‚çš„ä»£ç æ‰§è¡Œé€šè¿‡MCPç³»ç»Ÿå®ç°
- **æ¸…æ™°åˆ†ç¦»** - å·¥å…·å®šä¹‰ä¸ç³»ç»ŸåŠŸèƒ½æ˜ç¡®åˆ†å·¥

> **æ³¨æ„**ï¼šåŸºäºæŒ‡å¯¼ä¸æ‰§è¡Œåˆ†ç¦»çš„è®¾è®¡åŸåˆ™ï¼Œå·¥å…·æ–‡ä»¶ä¸“æ³¨äºä½¿ç”¨æŒ‡å¯¼ï¼Œå…·ä½“çš„ä»£ç å®ç°å’Œæ‰§è¡Œé€šè¿‡`promptx_tool` MCPå·¥å…·å®Œæˆã€‚